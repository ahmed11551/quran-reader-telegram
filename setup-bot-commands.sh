#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ Telegram Bot
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –±–æ—Ç–∞

BOT_TOKEN="8273285635:AAH2W47-WkEGqYRWtCxlgdPl2_B8Pwwapz0"

echo "ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot..."

# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥
echo "üìã –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞..."
curl -X POST "https://api.telegram.org/bot${BOT_TOKEN}/setMyCommands" \
  -H "Content-Type: application/json" \
  -d '{
    "commands": [
      {"command": "start", "description": "üïå –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–∏—Ç–∞–ª–∫—É –ö–æ—Ä–∞–Ω–∞"},
      {"command": "help", "description": "‚ùì –ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é"},
      {"command": "surah", "description": "üìñ –í—ã–±—Ä–∞—Ç—å —Å—É—Ä—É –¥–ª—è —á—Ç–µ–Ω–∏—è"},
      {"command": "ayah", "description": "üìù –ù–∞–π—Ç–∏ –∞—è—Ç –ø–æ –Ω–æ–º–µ—Ä—É"},
      {"command": "juz", "description": "üìö –ß—Ç–µ–Ω–∏–µ –ø–æ –¥–∂—É–∑–∞–º"},
      {"command": "settings", "description": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"},
      {"command": "progress", "description": "üìä –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å —á—Ç–µ–Ω–∏—è"},
      {"command": "favorites", "description": "‚≠ê –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∞—è—Ç—ã"},
      {"command": "random", "description": "üé≤ –°–ª—É—á–∞–π–Ω—ã–π –∞—è—Ç"},
      {"command": "tafsir", "description": "üìö –¢–æ–ª–∫–æ–≤–∞–Ω–∏–µ –∞—è—Ç–∞"},
      {"command": "prayer", "description": "üïå –í—Ä–µ–º—è –Ω–∞–º–∞–∑–∞"},
      {"command": "share", "description": "üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º"}
    ]
  }'

echo "‚úÖ –ö–æ–º–∞–Ω–¥—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é
echo "üîò –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é..."
curl -X POST "https://api.telegram.org/bot${BOT_TOKEN}/setMenuButton" \
  -H "Content-Type: application/json" \
  -d '{
    "menu_button": {
      "type": "web_app",
      "text": "–ß–∏—Ç–∞–ª–∫–∞ –ö–æ—Ä–∞–Ω–∞",
      "web_app": {
        "url": "https://quran-reader-telegram-rxsa.vercel.app"
      }
    }
  }'

echo "‚úÖ –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞"

# 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è
echo "üìù –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø–∏—Å–∞–Ω–∏—è –±–æ—Ç–∞..."
curl -X POST "https://api.telegram.org/bot${BOT_TOKEN}/setMyDescription" \
  -H "Content-Type: application/json" \
  -d '{
    "description": "üïå –ß–∏—Ç–∞–ª–∫–∞ –ö–æ—Ä–∞–Ω–∞ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –∞—É–¥–∏–æ –∏ —Ç–µ–∫—Å—Ç–∞. –í—ã–±–µ—Ä–∏—Ç–µ —Å—É—Ä—É, –∞—è—Ç –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —á—Ç–µ–Ω–∏–µ–º —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–ª–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —á—Ç–µ—Ü–æ–≤, –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏ —Ç–æ–ª–∫–æ–≤–∞–Ω–∏–π."
  }'

echo "‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"

# 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
echo "üìÑ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è..."
curl -X POST "https://api.telegram.org/bot${BOT_TOKEN}/setMyShortDescription" \
  -H "Content-Type: application/json" \
  -d '{
    "short_description": "üïå –ß–∏—Ç–∞–ª–∫–∞ –ö–æ—Ä–∞–Ω–∞ —Å –∞—É–¥–∏–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π"
  }'

echo "‚úÖ –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"

# 5. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –±–æ—Ç–µ
echo "üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ:"
curl -s "https://api.telegram.org/bot${BOT_TOKEN}/getMe" | jq '.'

echo ""
echo "üéâ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
echo "üîó –°—Å—ã–ª–∫–∞ –Ω–∞ –±–æ—Ç–∞: https://t.me/$(curl -s "https://api.telegram.org/bot${BOT_TOKEN}/getMe" | jq -r '.result.username')"
echo ""
echo "üì± –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:"
echo "‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏"
echo "‚Ä¢ –û—Ç–∫—Ä—ã–≤–∞—Ç—å —á–∏—Ç–∞–ª–∫—É —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é"
echo "‚Ä¢ –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è"
echo "‚Ä¢ –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —á—Ç–µ–Ω–∏—è"
echo "‚Ä¢ –î–æ–±–∞–≤–ª—è—Ç—å –∞—è—Ç—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
echo "‚Ä¢ –ü–æ–ª—É—á–∞—Ç—å —Ç–æ–ª–∫–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–≤–æ–¥—ã"
echo "‚Ä¢ –£–∑–Ω–∞–≤–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞–º–∞–∑–∞"
echo "‚Ä¢ –î–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º —Å –¥—Ä—É–∑—å—è–º–∏"
